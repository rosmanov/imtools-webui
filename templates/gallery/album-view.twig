{% include 'header.twig' %}
{% include 'gallery/menu.twig' %}

<div>
    <a href="{{ page.url }}">&laquo;Back</a>
</div>

<h3>Album Info</h3>
<table class="simple-list">
    <tr>
        <td><b>Name</b></td>
        <td>{{ album.name }}</td>
    </tr>
    <tr>
        <td><b>Format</b></td>
        <td>{{ thumbnail_formats[album.format_id].width }}x{{ thumbnail_formats[album.format_id].height }}px</td>
    </tr>
    <tr>
        <td><b>Interpolation</b></td>
        <td>{{ album.interpolation }}</td>
    </tr>
    <tr>
        <td><b>Created</b></td>
        <td>{{ album.created }}</td>
    </tr>
    <tr>
        <td><b>Modified</b></td>
        <td>{{ album.modified }}</td>
    </tr>
</table>

<h3>Images</h3>
{% for e in album.images %}
<table class="image-list-element">
    <tr>
        <td class="thumbnail-container" style="width:{{ thumbnail_formats[album.format_id].width }}px">
            <a class="image-link" href="/uploads/{{ e.filename }}" target="_blank">
                <img src="/uploads/{{ e.thumbnail }}" title="{{ e.filename}}" alt="{{ e.filename}}"><br>
            </a>
        </td>
        <td style="vertical-align:top">
            <table class="simple-list" style="width: 100%">
                <tr>
                    <td style="width:70px">File</td>
                    <td>
                        <a href="/gallery/image/?id={{ e.id }}" target="_blank">
                            <code>{{ e.filename }}</code>
                        </a>
                    </td>
                </tr>
                <tr>
                    <td>Modified</td>
                    <td>{{ e.modified }}</td>
                </tr>
                <tr>
                    <td>Created</td>
                    <td>{{ e.created }}</td>
                </tr>
                <tr>
                    <td>Actions</td>
                    <td>
                        <a href="javascript:void(0)"
                           onclick="if (confirm('This will remove the image. Are you sure?')) return imToolsWebUi.deleteObject('/gallery/image/delete.php?id={{ e.id }}', $(this).closest('.image-list-element'))"
                           class="action delete">Delete</a>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
{% else %}
<p>Album is empty</p>
{% endfor %}
<div style="clear: both"></div>

<script type="text/javascript" charset="utf-8">
$('.image-link').magnificPopup({
    type: 'image',
    mainClass: 'mfp-with-zoom', // this class is for CSS animation below

    zoom: {
        enabled: true, // By default it's false, so don't forget to enable it
        duration: 300, // duration of the effect, in milliseconds
        easing: 'ease-in-out', // CSS transition easing function
            // The "opener" function should return the element from which popup will be zoomed in
            // and to which popup will be scaled down
            // By defailt it looks for an image tag:
        opener: function(openerElement) {
            // openerElement is the element on which popup was initialized, in this case its <a> tag
            // you don't need to add "opener" option if this code matches your needs, it's defailt one.
            return openerElement.is('img') ? openerElement : openerElement.find('img');
        }
    }
});
</script>

{% include 'footer.twig' %}
